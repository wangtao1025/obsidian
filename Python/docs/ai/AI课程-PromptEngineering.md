# AI 课程：提示词工程（Prompt Engineering）

本文对应课程 [rag.docs-hub.com](https://rag.docs-hub.com/) 中的 **PromptEngineering** 文档，归在 **AI 分类**（附录）。提示词工程指**写清楚、写准确**地告诉大模型你想要什么（内容、结构、格式、约束），以得到更符合预期的输出；与 [LangChain](/ai/AI课程-LangChain) 的提示模板、[RAG 检索增强生成](/ai/AI课程-RAG检索增强生成) 中的「拼 Prompt → LLM」环节直接相关。

---

## 1. 什么是提示词工程？

- **目标**：说清「你说什么」（内容与结构）和「你怎么说」（格式与约束），让模型产出更可控。
- **与 RAG**：RAG 流程中检索到的上下文会填入 Prompt，再交给 LLM；提示写得好，生成质量更高。

---

## 2. 前置：角色与变量

- **角色**：system（总体角色与风格）、user（用户问题/任务）、assistant（模型回答）；与 [LangChain](/ai/AI课程-LangChain) 的 ChatPromptTemplate / system-human-ai 对应。
- **变量注入**：用占位符（如 `{role}`、`{question}`）和 `format()` 或 f-string 注入变量，对应 LangChain 的 `from_template`、`partial`。

---

## 3. 核心原则（四点）

| 原则 | 说明 |
|------|------|
| **清晰明确** | 说清任务、对象、格式、限制；避免「简单介绍一下」等含糊表述。 |
| **结构化** | 分点、分步骤（1）2）3）），便于模型按步骤推理与输出。 |
| **上下文与示例（Few-shot）** | 给 1～2 个输入输出示例，让模型模仿格式与风格；对应 [LangChain](/ai/AI课程-LangChain) 的 FewShotPromptTemplate。 |
| **约束与格式** | 明确字段、字数、风格、输出形式（如 JSON 结构）；减少跑题与格式混乱。 |

---

## 4. 常用提示模板

| 类型 | 说明 |
|------|------|
| **角色 + 任务 + 格式 + 示例** | 先定角色，再写任务与输出格式，必要时加示例。 |
| **思维链（Chain-of-Thought）** | 要求「分步骤思考：1）关键信息 2）分析 3）结论 4）总结」，提升推理类问题效果。 |
| **Few-shot 翻译/改写** | 给若干「输入→输出」示例，再让模型翻译或改写新输入。 |
| **格式控制** | 用 JSON 等约定字段与长度（如 title 不超过 15 字、summary 50 字内）。 |

---

## 5. 实战与迭代

- **实战**：内容总结（角色 + 字数 + 原文）、数据问答（角色 + 数据 + 问题）、翻译与风格控制（目标语种 + 语气）。
- **迭代流程**：第一版 → 加角色与格式 → 加示例与约束 → 调语气与细节；多版对比，保留效果最好的。

---

## 6. 常见错误与检查清单

- **错误**：过于模糊（如只写「介绍一下 AI」）；多重提问或矛盾要求（如「既简短又详细」）。
- **修正**：补全角色、对象、长度；拆任务、去矛盾。
- **检查清单**：是否说明角色、是否分步骤/要点、是否给格式与长度、是否提供示例或背景、是否删除矛盾或多余要求。

---

## 7. 小结

- **核心公式**：角色 + 任务 + 格式 + 示例 + 约束。
- **原则**：清晰、结构化、给上下文、加约束；多写多试多对比。
- **与本站**：[LangChain](/ai/AI课程-LangChain) 提供 PromptTemplate、ChatPromptTemplate、FewShot 等实现；[RAG 检索增强生成](/ai/AI课程-RAG检索增强生成) 中「拼 Prompt → LLM」可直接应用本课写法。

---

**相关文档**：[LangChain（LCEL 与链）](/ai/AI课程-LangChain) · [RAG 检索增强生成](/ai/AI课程-RAG检索增强生成) · [RAG 与向量基础](/ai/AI课程-RAG与向量基础) · [知识体系与学习路径](/ai/知识体系与学习路径) · [PromptEngineering（课程原文）](https://rag.docs-hub.com/html/PromptEngineering.html)
