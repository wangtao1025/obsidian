# 🐍 Python 核心语法自测试卷

> 本试卷基于《Python 全栈开发：核心语法查漏补缺手册》生成，覆盖全部知识点。
> 答案附在试卷末尾，建议先独立作答再对照。
> **待复习**：需巩固的题目已集中收录在 **[错题本](/python/Python核心语法-错题本)**，可从中一键跳转到本题与对应知识点。

---

## 一、变量赋值与解包 (共 6 题)

### 填空题

**1.1** 写出同步赋值语法，将 `1, 2, 3` 分别赋给 `a, b, c`：
```python
______________________
```

**1.2** 链式赋值 `x = y = z = 0` 对于不可变类型是安全的，但如果写成 `list1 = list2 = []`，会产生什么问题？原因是什么？

> 你的回答：

**1.3** 正确创建两个独立空列表的写法是：
```python
______________________
```

### 代码输出题

**1.4** 写出以下代码的输出结果：
```python
first, *middle, last = [1, 2, 3, 4, 5]
print(middle)
```
> 输出：

**1.5** 写出以下代码的输出结果：
```python
dict1 = {"a": 1, "b": 2}
dict2 = {"b": 3, "c": 4}
merged = {**dict1, **dict2}
print(merged)
```
> 输出：

**1.6** 以下代码有什么隐患？如何修复？
```python
config_a = config_b = {"debug": True}
config_a["debug"] = False
print(config_b["debug"])
```
> 你的回答：

---

## 二、内置数据结构 (共 30 题)


### 2.1 列表 (List)

**2.1** 列表的五大特点是什么？
> **待复习** → [错题本 2.1](/python/Python核心语法-错题本#21-列表五大特点)（题目 + 知识点）
> 你的回答：

**2.2** `.append(x)` 和 `.extend(iterable)` 的区别是什么？写出示例说明。
> 你的回答：

**2.3** `.pop()` 和 `.remove()` 的区别是什么？
> **待复习** → [错题本 2.3](/python/Python核心语法-错题本#23-pop-remove)（题目 + 知识点）
> 你的回答：

**2.4** `.sort()` 和 `sorted()` 的核心区别是什么？
> **待复习** → [错题本 2.4](/python/Python核心语法-错题本#24-sort-sorted)（题目 + 知识点）
> 你的回答：

**2.5** 写出以下代码的输出：
```python
students = [
    {"name": "Alice", "score": 85},
    {"name": "Bob", "score": 55},
    {"name": "Charlie", "score": 72}
]
result = [s["score"] for s in students if s["score"] >= 60]
print(result)
```
> 输出：

**2.6** 使用 `sorted()` 对上面的 `students` 按成绩降序排列，写出代码：
```python
______________________
```

### 2.2 元组 (Tuple)

**2.7** 创建一个只包含单个元素 `42` 的元组，正确写法是什么？为什么？
```python
______________________
```

**2.8** 元组可以作为字典的键，列表不行。原因是什么？
> 你的回答：

**2.9** 元组有哪两个内置方法？
> **待复习** → [错题本 2.9](/python/Python核心语法-错题本#29-元组方法)（题目 + 知识点）
> 你的回答：

### 2.3 集合 (Set)

**2.10** 创建空集合的正确写法是什么？为什么不能用 `{}`？
> 你的回答：

**2.11** `.remove(x)` 和 `.discard(x)` 的区别是什么？
> 你的回答：

**2.12** 写出以下集合运算的结果：
```python
a = {1, 2, 3, 4}
b = {3, 4, 5, 6}
print(a | b)   # 并集：
print(a & b)   # 交集：
print(a - b)   # 差集：
print(a ^ b)   # 对称差集：
```

### 2.4 字典 (Dict)

**2.13** `dict[key]` 和 `.get(key, default)` 取值的区别是什么？
> 你的回答：

**2.14** 写出遍历字典键值对的标准写法：
```python
______________________
```

**2.15** `.pop(key)` 和 `.popitem()` 的区别是什么？
> 你的回答：

### 2.5 字符串 (String)

**2.16** `.find("sub")` 和 `.index("sub")` 的区别是什么？
> **待复习** → [错题本 2.16](/python/Python核心语法-错题本#216-find-index)（题目 + 知识点）
> 你的回答：

**2.17** 写出以下代码的输出：
```python
text = "Hello, World!"
print(text[::-1])
print(text[::2])
```
> 输出：

**2.18** `"连接符".join(列表)` 只能连接什么类型的列表？如果列表中有数字怎么办？
> 你的回答：

**2.19** `"hello world python".split()` 和 `"hello world python".split(" ")` 的结果有什么不同？
> **待复习** → [错题本 2.19](/python/Python核心语法-错题本#219-split)（题目 + 知识点）
> 你的回答：

**2.20** 原始字符串 `r""` 的作用是什么？写出正确表示 Windows 路径 `C:\new_folder\test.txt` 的代码：
```python
______________________
```

**2.21** `"iPhone".title()` 的输出是什么？为什么这是一个坑？
> 你的回答：

**2.22** `"  \n hello world  \t ".strip()` 的结果是什么？中间的空格会被删除吗？
> 你的回答：

**2.23** 写出以下代码的输出：
```python
url = "www.baidu.com/"
print(url.strip("w./"))
```
> 输出：

**2.24** `strip("字符集")` 的删除逻辑是什么？它是按"子串"匹配还是按"字符集合"匹配？
> 你的回答：

### 2.6 整型 (Integer)

**2.25** `int("1010", 2)` 的结果是什么？`int("FF", 16)` 呢？
> 你的回答：

**2.26** `10 / 2` 在 Python 3 中的结果是什么类型？为什么？
> 你的回答：

**2.27** Python 的小整数对象池缓存范围是多少？
> **待复习** → [错题本 2.27](/python/Python核心语法-错题本#227-小整数对象池)（题目 + 知识点）
> 你的回答：

**2.28** `bin(255)`、`oct(10)`、`hex(255)` 的输出分别是什么？
> 你的回答：

### 2.7 浮点型 (Float)

**2.29** `f"{3.14159:.2f}"` 的输出是什么？格式说明符中 `.2` 和 `f` 分别代表什么？
> 你的回答：

**2.30** 浮点数存在精度误差的根本原因是什么？
> **待复习** → [错题本 2.30](/python/Python核心语法-错题本#230-浮点精度)（题目 + 知识点）
> 你的回答：

---

## 三、异常捕获与主动抛出 (共 8 题)

**3.1** `try-except` (被动捕获) 和 `raise` (主动抛出) 的使用场景分别是什么？
> 你的回答：

**3.2** 写出捕获 `ValueError` 和 `TypeError` 的代码模板：
```python
______________________
```

**3.3** 以下代码中 `raise` 的作用是什么？什么情况下会触发？
```python
def convert_base(number_str, from_base, to_base):
    if not (2 <= from_base <= 16) or not (2 <= to_base <= 16):
        raise ValueError("进制范围必须在 2 到 16 之间")
```
> 你的回答：

**3.4** 连线题：将异常类型与触发场景匹配

| 异常类型 | 触发场景 |
|---------|---------|
| `ValueError` | A. 对 `None` 进行加法运算 |
| `TypeError` | B. 访问字典中不存在的键 |
| `KeyError` | C. `int("abc")` |
| `IndexError` | D. `my_list[100]`（列表只有3个元素）|

> 你的回答：ValueError→__ TypeError→__ KeyError→__ IndexError→__

**3.5** `UnicodeEncodeError` 和 `UnicodeDecodeError` 分别在什么操作中触发？
> **待复习** → [错题本 3.5](/python/Python核心语法-错题本#35-unicode)（题目 + 知识点）
> 你的回答：

**3.6** 在 `try-except-else-finally` 结构中，`else` 块在什么时候执行？
> **待复习** → [错题本 3.6](/python/Python核心语法-错题本#36-try-else)（题目 + 知识点）
> 你的回答：

**3.7** `finally` 块的典型使用场景是什么？无论是否发生异常都会执行吗？
> 你的回答：

**3.8** 写出一个完整的 `try-except-else-finally` 代码示例：
```python
______________________
```

---

## 四、格式化输出 f-string 与 print (共 15 题)

### f-string

**4.1** f-string 格式说明符的完整语法是什么？
> **待复习** → [错题本 4.1](/python/Python核心语法-错题本#41-格式说明符)（题目 + 知识点）
> 你的回答：`{变量:________________}`

**4.2** 写出以下格式化的输出结果：
```python
value = 3.14159
print(f"{value:.2f}")
print(f"{42:010d}")
print(f"{'hello':<10}|")
print(f"{'hello':>10}|")
print(f"{'hello':^10}|")
```
> **待复习** → [错题本 4.2](/python/Python核心语法-错题本#42-格式化输出)（题目 + 知识点）
> 输出：

**4.3** `f"{n:010d}"` 中，第一个 `0` 和 `10` 分别代表什么？
> 你的回答：

**4.4** 自定义填充字符时，为什么必须显式指定对齐方式？`f"{n:1>10d}"` 和 `f"{n:110d}"` 的区别是什么？
> **待复习** → [错题本 4.4](/python/Python核心语法-错题本#44-自定义填充)（题目 + 知识点）
> 你的回答：

**4.5** 如果指定宽度为 2，但实际数据是 `12345`，Python 会截断数据吗？为什么？
> 你的回答：

**4.6** 写出将字符 `'中'` 的 Unicode 码点格式化为 `U+4E2D` 的 f-string 代码：
```python
______________________
```
> **待复习** → [错题本 4.6](/python/Python核心语法-错题本#46-码点)（题目 + 知识点）

### print

**4.7** `print()` 函数的完整签名是什么？写出所有参数及其默认值：
```python
______________________
```
> **待复习** → [错题本 4.7](/python/Python核心语法-错题本#47-print-签名)（题目 + 知识点）

**4.8** 写出以下代码的输出（注意空格和换行）：
```python
print("A", "B", "C", sep="-")
print("Hello", end=" ")
print("World")
```
> 输出：

**4.9** `flush=True` 的作用是什么？在什么场景下必须使用？
> 你的回答：

**4.10** 如何用 `print()` 将内容输出到文件而不是屏幕？
```python
______________________
```

**4.11** 实现"动态更新同一行"的两个关键技术是什么？
> 你的回答：

**4.12** `repr()` 函数的作用是什么？`print("apple\torange\n")` 和 `print(repr("apple\torange\n"))` 的输出有什么不同？
> 你的回答：

**4.13** `__str__` 和 `__repr__` 的区别是什么？分别面向什么受众？

| 特性 | `__str__` | `__repr__` |
|------|-----------|------------|
| 触发方式 | | |
| 受众 | | |
| 设计目标 | | |

**4.14** 如果一个类只定义了 `__repr__` 没有定义 `__str__`，调用 `print(obj)` 会发生什么？
> 你的回答：

**4.15** 在列表中展示对象时（如 `print([obj])`），调用的是 `__str__` 还是 `__repr__`？
> 你的回答：

---

## 五、内置函数 (共 5 题)

**5.1** 写出计算列表 `scores = [85, 92, 78, 95, 60]` 平均分的代码（一行）：
```python
______________________
```

**5.2** `max()` 和 `min()` 除了接受可迭代对象，还能接受什么参数来自定义比较逻辑？
> 你的回答：

**5.3** `reversed()` 和 `sorted()` 的共同点是什么？（关于是否修改原数据）
> 你的回答：

**5.4** `sorted()` 和 `.sort()` 的区别是什么？
> 你的回答：

**5.5** 写出计算极差（最大值减最小值）的代码：
```python
scores = [85, 92, 78, 95, 60]
______________________
```

---

## 六、逻辑判断与真值检测 (共 10 题)

**6.1** `all()` 和 `any()` 的区别是什么？
> 你的回答：

**6.2** 写出以下代码的输出：
```python
scores = [85, 92, 78, 95, 60]
print(all(s >= 60 for s in scores))
print(any(s < 60 for s in scores))
```
> 输出：

**6.3** `and` 运算符的返回值规则是什么？写出以下表达式的结果：
```python
print(1 and 2 and 3)
print(0 and 2 and 3)
print("" and "hello")
```
> 输出：

**6.4** `or` 运算符的返回值规则是什么？写出以下表达式的结果：
```python
print(0 or "" or "hello")
print(1 or 2 or 3)
print(0 or "" or [])
```
> 输出：

**6.5** 列出 Python 中所有被视为 `False` 的对象（至少写出 8 个）：
> 你的回答：

**6.6** 以下代码利用了什么特性来避免 `AttributeError`？
```python
if user is not None and user.name == "Admin":
    pass
```
> 你的回答：

**6.7** `name = input_name or "Guest"` 这行代码的逻辑是什么？
> 你的回答：

**6.8** Python 判断自定义对象真值的优先级顺序是什么？
> 你的回答：1. ______ 2. ______ 3. ______

**6.9** `not` 运算符和 `and`/`or` 的返回值类型有什么不同？
> 你的回答：

**6.10** 写出以下代码的输出：
```python
print(not [])
print(not "hello")
print(not 0)
print(not None)
```
> 输出：

---

## 七、身份判断与成员运算符 (共 8 题)

**7.1** `==` 和 `is` 的区别是什么？分别比较什么？
> 你的回答：

**7.2** 写出以下代码的输出并解释原因：
```python
list_a = [1, 2, 3]
list_b = [1, 2, 3]
list_c = list_a
print(list_a == list_b)
print(list_a is list_b)
print(list_a is list_c)
```
> 输出及解释：

**7.3** 判断变量是否为 `None` 时，为什么推荐用 `is None` 而不是 `== None`？
> 你的回答：

**7.4** 写出以下代码的输出并解释原因：
```python
a = 256
b = 256
print(a is b)

x = 257
y = 257
print(x is y)
```
> 输出及解释：

**7.5** `in` 运算符在不同数据结构中的时间复杂度分别是多少？

| 数据结构 | 时间复杂度 |
|---------|----------|
| 字符串 | |
| 列表/元组 | |
| 集合 | |
| 字典 | |

**7.6** 写出以下代码的输出：
```python
d = {'a': 1, 'b': 2}
print('a' in d)
print(1 in d)
print(1 in d.values())
```
> 输出：

**7.7** 字典的 `in` 运算符默认查找的是键还是值？如果要查找值应该怎么写？
> 你的回答：

**7.8** 如何让自定义类支持 `in` 运算符？需要定义什么方法？
> 你的回答：

---

## 八、数据处理 (共 6 题)

**8.1** Python 中进制转换的"万能公式"分几步？中转站是什么？
> 你的回答：

**8.2** 将十六进制字符串 `"FF"` 转为二进制字符串，写出完整代码：
```python
______________________
```

**8.3** 存储单位格式化的核心算法是什么？单位阶梯是什么？
> 你的回答：

**8.4** 网络下载时间计算中，`MB` 和 `Mbps` 的区别是什么？`1 Byte = ? bits`？
> 你的回答：

**8.5** 写出下载时间的计算公式（文件大小为 MB，带宽为 Mbps）：
> 你的回答：

**8.6** 防御性编程中，函数的第一行应该做什么？举两个边界检查的例子：
> 你的回答：

---

## 九、字符编码 (共 6 题)

**9.1** ASCII、Unicode、UTF-8 三者的关系是什么？分别负责什么？

> **待复习** → [错题本 9.1](/python/Python核心语法-错题本#91-编码铁三角)（题目 + 知识点）

| 名称 | 本质 | 职责 |
|------|------|------|
| ASCII | | |
| Unicode | | |
| UTF-8 | | |

**9.2** UTF-8 编码中，ASCII 字符占几个字节？汉字占几个字节？Emoji 占几个字节？
> **待复习** → [错题本 9.2](/python/Python核心语法-错题本#92-utf8-字节)（题目 + 知识点）
> 你的回答：

**9.3** `str` 和 `bytes` 之间如何互相转换？写出编码和解码的代码：

> **待复习** → [错题本 9.3](/python/Python核心语法-错题本#93-str-bytes)（题目 + 知识点）

```python
# 编码（str → bytes）
______________________
# 解码（bytes → str）
______________________
```

**9.4** `errors='replace'` 参数的作用是什么？
> **待复习** → [错题本 9.4](/python/Python核心语法-错题本#94-errors)（题目 + 知识点）
> 你的回答：

**9.5** `ord('中')` 的结果是什么？`chr(65)` 的结果是什么？
> **待复习** → [错题本 9.5](/python/Python核心语法-错题本#95-ord-chr)（题目 + 知识点）
> 你的回答：

**9.6** `ord()` 和 `chr()` 分别做什么？

> **待复习** → [错题本 9.6](/python/Python核心语法-错题本#96-ord-chr)（题目 + 知识点）

| 函数 | 输入 | 输出 |
|------|------|------|
| `ord()` | | |
| `chr()` | | |

---

## 十、循环遍历 while 与 for (共 8 题)

**10.1** `for` 和 `while` 的核心区别是什么？各自适合什么场景？
> 你的回答：

**10.2** `range()` 的三种调用方式分别是什么？
> 你的回答：

**10.3** `range()` 返回的是列表吗？它的内存效率为什么高？
> 你的回答：

**10.4** 写出生成 `[5, 4, 3, 2, 1]` 的 `range()` 代码：
```python
______________________
```

**10.5** 填写下表：

| 关键字 | 作用范围 | 形象理解 |
|--------|---------|---------|
| `pass` | | |
| `continue` | | |
| `break` | | |
| `return` | | |

**10.6** 写出以下代码的输出：
```python
for i in range(5):
    if i == 2:
        continue
    if i == 4:
        break
    print(i, end=" ")
```
> 输出：

**10.7** `break` 只能跳出几层循环？如果要跳出所有嵌套循环应该用什么？
> 你的回答：

**10.8** `range` 对象支持切片操作吗？`range(10)[2:8:2]` 的结果转为列表是什么？
> 你的回答：

---

## 十一、标准库模块 (共 8 题)

### datetime

**11.1** `datetime` 模块的四个主要类型是什么？
> 你的回答：

**11.2** 获取当前时间并格式化为 `"2024-01-15 14:30:00"` 格式的代码：
```python
______________________
```

**11.3** `strptime` 和 `strftime` 的区别是什么？
> 你的回答：

**11.4** 如何计算"明天"的日期？写出代码：
```python
______________________
```

### collections.namedtuple

**11.5** `namedtuple` 相比普通元组的优势是什么？（至少写出 3 点）
> 你的回答：

**11.6** 创建一个名为 `Point` 的命名元组（字段为 `x, y`），并实例化 `(10, 20)`：
```python
______________________
```

**11.7** `namedtuple` 的 `_replace()` 方法的作用是什么？它会修改原对象吗？
> 你的回答：

**11.8** `namedtuple` 有哪几种定义字段的方式？
> 你的回答：

---
---

# 📝 参考答案

## 一、变量赋值与解包

**1.1** `a, b, c = 1, 2, 3`

**1.2** 所有变量指向同一个内存地址（同一个列表对象）。修改其中一个，其他全部跟着变。原因：列表是可变对象，链式赋值让所有变量引用同一个对象。

**1.3** `list_a, list_b = [], []`

**1.4** `[2, 3, 4]`

**1.5** `{'a': 1, 'b': 3, 'c': 4}`（后面的字典覆盖前面的同名键）

**1.6** 输出 `False`。隐患：字典是可变对象，`config_a` 和 `config_b` 指向同一个字典。修复：`config_a, config_b = {"debug": True}, {"debug": True}`

## 二、内置数据结构

**2.1** 有序、可变、支持重复元素、支持索引与切片、元素可为任意类型。（待复习）

**2.2** `append(x)` 将 `x` 作为单个元素添加到末尾；`extend(iterable)` 将可迭代对象中的每个元素逐一追加到末尾。

**2.3** `pop(i)` 按索引删除并返回该元素（默认最后一个）；`remove(x)` 按值删除第一个匹配项，不返回值。（待复习）

**2.4** `.sort()` 原地排序，修改原列表，返回 `None`；`sorted()` 返回新列表，不修改原数据。（待复习）

**2.5** `[85, 72]`

**2.6** `sorted(students, key=lambda x: x["score"], reverse=True)`

**2.7** `single_tuple = (42,)`。单元素元组必须带逗号，否则 `(42)` 只是一个带括号的整数。

**2.8** 字典键必须是不可变（可哈希）类型。元组不可变所以可以做键，列表可变所以不行。

**2.9** `.count(x)` 和 `.index(x)`（待复习）

**2.10** `empty_set = set()`。`{}` 创建的是空字典，不是空集合。

**2.11** `remove(x)` 元素不存在时抛出 `KeyError`；`discard(x)` 元素不存在时静默忽略，不报错。

**2.12**
- 并集：`{1, 2, 3, 4, 5, 6}`
- 交集：`{3, 4}`
- 差集：`{1, 2}`
- 对称差集：`{1, 2, 5, 6}`

**2.13** `dict[key]` 键不存在时抛出 `KeyError`；`.get(key, default)` 键不存在时返回默认值（默认为 `None`），不报错。

**2.14** `for k, v in my_dict.items():`

**2.15** `.pop(key)` 删除指定键并返回其值；`.popitem()` 删除并返回最后一个键值对（元组形式）。

**2.16** `.find()` 找不到返回 `-1`；`.index()` 找不到抛出 `ValueError`。（待复习）

**2.17**
```
!dlroW ,olleH
Hlo ol!
```

**2.18** 只能连接字符串列表。有数字需先转字符串：`", ".join(str(n) for n in numbers)`

**2.19** `.split()` 不传参数会合并所有连续空白字符；`.split(" ")` 严格按单个空格分割，连续空格会产生空字符串元素。（待复习）

**2.20** 原始字符串让反斜杠不被转义。`path = r"C:\new_folder\test.txt"`

**2.21** 输出 `Iphone`。坑：`title()` 会把除首字母外的字母强制变小写，`iPhone` 的 `P` 被变成了 `p`。

**2.22** 结果是 `'hello world'`。中间的空格不会被删除，`strip()` 只删除两端的空白字符。

**2.23** `baidu.com`

**2.24** 按"字符集合"匹配，不是按子串。它从两端逐个检查字符，只要该字符属于指定集合就删除，直到遇到第一个不属于集合的字符为止。

**2.25** `int("1010", 2)` → `10`；`int("FF", 16)` → `255`

**2.26** 结果是 `5.0`，类型是 `float`。Python 3 中 `/` 永远返回浮点数。

**2.27** `[-5, 256]`（待复习）

**2.28** `bin(255)` → `'0b11111111'`；`oct(10)` → `'0o12'`；`hex(255)` → `'0xff'`

**2.29** 输出 `3.14`。`.2` 表示保留 2 位小数，`f` 表示浮点数格式。

**2.30** 计算机底层使用二进制存储小数，很多十进制小数无法精确表示为有限位二进制小数。（待复习）

## 三、异常捕获与主动抛出

**3.1** `try-except`：处理外部不可控的潜在崩溃（如脏数据、网络错误）。`raise`：当输入不符合业务逻辑时主动中断程序。

**3.2**
```python
try:
    result = int(user_input)
except (ValueError, TypeError):
    result = None
```

**3.3** 当 `from_base` 或 `to_base` 不在 2-16 范围内时触发，主动抛出 `ValueError` 强制调用者传入合法参数。

**3.4** ValueError→C TypeError→A KeyError→B IndexError→D

**3.5** `UnicodeEncodeError`：字符串编码为字节时失败（如用 ASCII 编码中文）。`UnicodeDecodeError`：字节解码为字符串时失败（如用 UTF-8 解码 GBK 字节流）。（待复习）

**3.6** 当 `try` 块没有发生任何异常时执行。（待复习）

**3.7** 无论是否发生异常都会执行。典型场景：关闭文件句柄、释放数据库连接、清理临时资源。

**3.8**
```python
try:
    f = open("data.txt", "r")
    data = f.read()
except FileNotFoundError:
    print("文件不存在")
else:
    print("读取成功:", data)
finally:
    f.close()
```

## 四、格式化输出

**4.1** `{变量:填充字符 对齐方式 宽度.精度 类型}`（待复习）

**4.2**
```
3.14
0000000042
hello     |
     hello|
  hello   |
```
（待复习）

**4.3** 第一个 `0` 是补零指令，`10` 是最小宽度。

**4.4** 不指定对齐方式会产生语法歧义。`f"{n:1>10d}"` 表示用 `1` 填充、右对齐、宽度 10；`f"{n:110d}"` 会被解析为宽度 110、默认空格填充。（待复习）

**4.5** 不会截断。Python 的宽度是最小保证宽度，数据安全性高于排版美观，会原样输出全量数据。

**4.6** `f"U+{ord('中'):04X}"`（待复习）

**4.7** `print(*objects, sep=' ', end='\n', file=sys.stdout, flush=False)`（待复习）

**4.8**
```
A-B-C
Hello World
```

**4.9** 强制刷新输出缓冲区。在动态进度条场景下必须使用，否则进度可能卡住然后突然跳到 100%。

**4.10**
```python
with open("output.txt", "w", encoding="utf-8") as f:
    print("内容", file=f)
```

**4.11** `\r`（回车符，回到行首覆盖当前行）和 `end=""`（不换行）。

**4.12** `repr()` 返回对象的"官方"字符串表示，显式展示不可见字符。`print(text)` 会渲染 `\t` 和 `\n`；`print(repr(text))` 会原样显示 `'apple\torange\n'`。

**4.13**

| 特性 | `__str__` | `__repr__` |
|------|-----------|------------|
| 触发方式 | `print(obj)` 或 `str(obj)` | 直接输入变量名、`repr(obj)`、容器中展示 |
| 受众 | 终端用户 | 开发者/调试 |
| 设计目标 | 可读性好 | 准确无误，最好能还原对象 |

**4.14** 会回退调用 `__repr__`。如果 `__str__` 未定义，Python 会自动使用 `__repr__` 的返回值。

**4.15** `__repr__`

## 五、内置函数

**5.1** `sum(scores) / len(scores)`

**5.2** `key` 参数，如 `max(students, key=lambda x: x["score"])`

**5.3** 都不修改原数据，返回新的对象。

**5.4** `sorted()` 返回新列表；`.sort()` 原地排序，返回 `None`。

**5.5** `max(scores) - min(scores)`

## 六、逻辑判断与真值检测

**6.1** `all()` 全部为真才返回 `True`；`any()` 只要有一个为真就返回 `True`。

**6.2** `True` 和 `False`

**6.3** `and` 返回第一个假值，全真则返回最后一个。输出：`3`、`0`、`""`

**6.4** `or` 返回第一个真值，全假则返回最后一个。输出：`hello`、`1`、`[]`

**6.5** `None`、`False`、`0`、`0.0`、`0j`、`''`、`[]`、`()`、`{}`、`set()`、`range(0)`

**6.6** 短路计算（Short-circuiting）。如果 `user is not None` 为假，后面的 `user.name` 不会执行，避免了 `AttributeError`。

**6.7** 如果 `input_name` 是假值（空字符串、None 等），则 `name` 取 `"Guest"`；否则取 `input_name` 的值。

**6.8** 1. `__bool__()` 2. `__len__()` 3. 默认为 `True`

**6.9** `not` 必定返回布尔值（`True`/`False`）；`and`/`or` 返回的是操作数本身，不一定是布尔值。

**6.10** `True`、`False`、`True`、`True`

## 七、身份判断与成员运算符

**7.1** `==` 比较值（内容是否相等），调用 `__eq__`；`is` 比较身份（内存地址是否相同），等价于 `id(a) == id(b)`。

**7.2** `True`、`False`、`True`。`list_a` 和 `list_b` 内容相同但是两个独立对象；`list_c` 是 `list_a` 的别名，指向同一地址。

**7.3** `None` 是单例对象，用 `is` 直接比地址更快更安全，且能防止自定义类重载 `==` 导致的逻辑错误。

**7.4** `True`、`False`。Python 缓存了 -5 到 256 的整数，256 命中缓存所以地址相同；257 超出缓存范围，创建了两个不同对象。

**7.5**

| 数据结构 | 时间复杂度 |
|---------|----------|
| 字符串 | O(n) |
| 列表/元组 | O(n) |
| 集合 | O(1) |
| 字典 | O(1)（默认查键）|

**7.6** `True`、`False`、`True`

**7.7** 默认查找键。查找值：`value in d.values()`（但性能降至 O(n)）。

**7.8** 定义 `__contains__(self, item)` 方法。

## 八、数据处理

**8.1** 两步。中转站是十进制。第一步：`int(str, base)` 转为十进制；第二步：用 `bin()`/`oct()`/`hex()` 或循环取余法转为目标进制。

**8.2**
```python
decimal_val = int("FF", 16)
binary_str = bin(decimal_val)  # '0b11111111'
```

**8.3** 核心算法：`while` 循环，数字 ≥ 1024 就除以 1024.0 并将单位索引 +1。单位阶梯：`['B', 'KiB', 'MiB', 'GiB', 'TiB']`

**8.4** `MB` = Megabyte（兆字节），`Mbps` = Megabit per second（兆比特每秒）。`1 Byte = 8 bits`。

**8.5** 下载秒数 = (文件 MB × 8) ÷ 带宽 Mbps

**8.6** 边界检查/参数校验。例：① 进制范围必须在 2-16 之间 ② 文件大小不能为负数，带宽必须大于 0。

## 九、字符编码

**9.1**

| 名称 | 本质 | 职责 |
|------|------|------|
| ASCII | 早期英文标准 | 身份证号与存储方式合一，1 字节 |
| Unicode | 全球码表 | 只分配码点（逻辑编号），不负责存储 |
| UTF-8 | 编码方案 | 将 Unicode 码点转为变长字节流 |

（待复习）

**9.2** ASCII 字符 1 字节，汉字 3 字节，Emoji 4 字节。（待复习）

**9.3**
```python
# 编码
byte_data = text.encode('utf-8', errors='replace')
# 解码
text = byte_data.decode('utf-8', errors='replace')
```

**9.4** 遇到无法识别的字符时用替代字符代替，防止整个程序崩溃。（待复习）

**9.5** `ord('中')` → `20013`；`chr(65)` → `'A'`（待复习）

**9.6**

| 函数 | 输入 | 输出 |
|------|------|------|
| `ord()` | 单个字符 | 该字符的十进制 Unicode 码点 |
| `chr()` | 十进制整数 | 对应的 Unicode 字符 |

（待复习）

## 十、循环遍历

**10.1** `for` 用于遍历已知序列（"数完"/"走完"）；`while` 用于条件循环（"等到"某个条件不满足）。

**10.2** `range(stop)`、`range(start, stop)`、`range(start, stop, step)`

**10.3** 不是列表，是惰性的 range 对象。不在内存中存储所有数字，按需生成，所以即使 `range(10**9)` 也只占很少内存。

**10.4** `list(range(5, 0, -1))`

**10.5**

| 关键字 | 作用范围 | 形象理解 |
|--------|---------|---------|
| `pass` | 无影响 | "此处招租"，占位防报错 |
| `continue` | 当前这一次迭代 | "这题跳过"，进入下一轮 |
| `break` | 最近的一层循环 | "原地爆破"，跳出循环 |
| `return` | 整个函数 | "终结者"，直接关掉函数 |

**10.6** `0 1 3 `（i=2 被 continue 跳过，i=4 被 break 终止）

**10.7** 只能跳出最近的一层循环。要跳出所有嵌套循环应该用 `return`（将循环放在函数中）。

**10.8** 支持。`list(range(10)[2:8:2])` → `[2, 4, 6]`

## 十一、标准库模块

**11.1** `datetime`（日期+时间）、`date`（仅日期）、`time`（仅时间）、`timedelta`（时间间隔）

**11.2**
```python
from datetime import datetime
now = datetime.now()
print(now.strftime("%Y-%m-%d %H:%M:%S"))
```

**11.3** `strptime`：字符串 → 时间对象（parse）；`strftime`：时间对象 → 字符串（format）。

**11.4**
```python
from datetime import datetime, timedelta
tomorrow = datetime.now() + timedelta(days=1)
```

**11.5** ① 可通过属性名访问（可读性好）② 仍支持索引访问 ③ 不可变 ④ 比普通类更省内存 ⑤ 自描述性强

**11.6**
```python
from collections import namedtuple
Point = namedtuple('Point', ['x', 'y'])
p = Point(10, 20)
```

**11.7** 替换指定字段的值并返回新对象，不会修改原对象（因为元组不可变）。

**11.8** 四种：① 列表 `['x', 'y']` ② 空格分隔字符串 `'x y'` ③ 逗号分隔字符串 `'x, y'` ④ 元组 `('x', 'y')`
