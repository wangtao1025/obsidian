# Python 语法手册：字符编码

← [语法手册总览](/python/python语法手册) | 下一章见总览

---

**本章对应自测卷**：[九、字符编码（共 6 题）](/python/Python核心语法自测试卷#九字符编码-共-6-题)  
**学完能做什么**：分清 ASCII/Unicode/UTF-8 的角色，会 str↔bytes 编解码，用 `ord`/`chr` 做码点与字符互转，知道 `errors='replace'` 的作用。  
**小白注意**：① Unicode 是码表（只发号），UTF-8 是编码方案（变长存）；ASCII 1 字节、汉字 3 字节、Emoji 4 字节。② 编码 `.encode()`、解码 `.decode()`，遇无法识别字符可加 `errors='replace'` 防崩。③ `ord('中')` 是十进制码点，`chr(65)` 是字符。

---

## 九、字符编码

### 9.1 编码铁三角的关系真相（自测卷 9.1、9.2 待复习）

1. **ASCII (村级系统)**：早期英文标准。它是“身份证号”与“存储方式”的暴力合一，1 字节解决。
    
2. **Unicode (全球身份证系统/码表)**：
    
    - **本质**：它包含了 ASCII 并扩展了全球所有字符。
        
    - **逻辑**：它只发“码点”（逻辑编号），不负责存。在 0-127 号位上，它与 ASCII 的编号完全对齐。
        
3. **UTF-8 (快递包装系统/编码方案)**：
    
    - **本质**：它是 Unicode 码点转换成二进制字节流的**规则**。
        
    - **特性**：**变长存储**。ASCII 字符占 1 字节（结果与原 ASCII 一模一样），汉字占 3 字节，Emoji 占 4 字节。
### 9.2 核心操作：`str` (内存文本) ↔ `bytes` (硬盘字节)（自测卷 9.3、9.4 待复习）

- **编码 (Encode)**：`text.encode('utf-8', errors='replace')`。
    
- **解码 (Decode)**：`data.decode('utf-8', errors='replace')`。
    
    - `errors='replace'`：防止因个别无法识别字符导致的整个系统崩溃。
### 9.3 核心转换工具：`ord()` 与 `chr()`（自测卷 9.5、9.6 待复习）

这是在编码铁三角中，连接 **“字符”** 与 **“Unicode 码点”** 的直达电梯。

| 方法          | 严谨定义 (底层物理)                           | 方便理解 (直觉对照)                                        |
| ----------- | ------------------------------------- | -------------------------------------------------- |
| `ord(char)` | **获取码点**。输入一个字符，返回其对应的十进制 Unicode 编号。 | **“查身份证号”**。看到“中”字，问系统：它的 Unicode 编号是多少？（结果：20013） |
| `chr(code)` | **还原字符**。输入一个十进制编号，返回对应的 Unicode 字符。  | **“按号叫人”**。告诉系统：去把 20013 号对应的字找出来。（结果：“中”）         |

---

**本章小结**：ASCII 早期英文 1 字节；Unicode 全球码表只发码点；UTF-8 变长编码。str→bytes 用 `.encode()`，bytes→str 用 `.decode()`；`ord`/`chr` 字符与码点互转。
